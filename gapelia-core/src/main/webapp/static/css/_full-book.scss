/************************************************************************************ FULL-BOOK/SCSS **/

.full-book {

	width: 100%; height: 100%;

	font-family: "SourceSansProRegular";
	overflow: hidden;

	#g-menu-toggle { z-index: 101; }

	#the-book {
		width: 100%; height: 100%;
	}

	.page {
		/*
		width: 100%; height: 100%;
		top: 0; left: 0;

		background-color: $white;
		position: fixed;
		*/
	}

	/* Start flip code */
	/* End flip code */

	/*******************************************************************************************/

	.frontcover-wrapper, .photo-wrapper, .text-wrapper, .horizontal-wrapper,
	.overlay-wrapper, .phototext-wrapper, .vertical-wrapper, .video-wrapper, .backcover-wrapper {
		width: 100%; height: 100% !important;

		background-size: cover;
		overflow: hidden;
		/* position: fixed !important; */

		.page-bg {
			width: 100%; height: auto;
			top: 0; left: 0;

			position: fixed;
		}

		::-webkit-input-placeholder	{ color: $black; }
		::-moz-placeholder					{ color: $black; }
		:-ms-input-placeholder			{ color: $black; }

		.page-title-elem, .page-geotag-elem, .page-desc { display: block; }
		.page-title-elem, .page-geotag-elem { margin: 0 0 0.5rem 0; }

		.page-title-elem {
			font-family: "SourceSansProLight";
			font-size: 1.5em;
			line-height: 1.2;
			text-transform: capitalize;

			&:empty:after {
				color: $gray-iv;
				content : "Write your title here";
			}
		}

		.page-geotag-elem {
			background-color: transparent;
			border: 0;
			color: $white;
			font-family: "SourceSansProSemibold";
			font-size: 1em;
			text-transform: uppercase;
			width: 100%;

			&:before {
				content: "in ";
				font-family: "Hoefler Text", Georgia, serif;
				font-style: italic;
				text-transform: lowercase;
			}
		}

		.page-desc {
			font-size: 1em;
			line-height: 1.4em;
			margin: 1rem 0 0 0;
			text-align: center;

			&:empty:after {
				color: $gray-iv;
				content : "Start writing your story here.";
			}
		}
	}

	.text-wrapper, .phototext-wrapper, .vertical-wrapper, .video-wrapper {
		.sp-scrollbar {
			background-color: $gray-i;
			cursor: pointer;
			width: 10px;

			.sp-thumb {
				background-color: $gray-iv;
				transition: height 0.2s ease-in-out;
			}
		}

		.sp-scrollbar.active .sp-thumb { background-color: $gray-iii; }
	}

	.frontcover-wrapper {
		.frontcover-preview {
			width: 100%; height: auto;
			top: 30%; left: 0;

			color: $black;
			position: absolute;

			article {
				margin: 0 auto; padding: 2rem;

				box-sizing: border-box;
				background-color: rgba($white, 0.7);
				width: 60%;
			}

			h1, h5, section {
				text-align: center;
				width: 100%;
			}

			h1 {
				font-size: 36px;
				line-height: 40px;
				margin: 0 0 0.5rem 0;
			}

			h5 {
				margin: 0 0 0.5rem 0;
				text-transform: uppercase;

				span {
					&:before {
						content: "by ";
						font-family: "Hoefler Text", Georgia, serif;
						font-style: italic;
						text-transform: lowercase;
					}
				}
			}

			section {
				margin: 0 0 1rem 0;

				.page-geotag-elem {
					appearance: textfield;
					background: transparent;
					color: $white;
					margin: 0 auto 0.5rem;
					text-align: center;
				}

				.page-feeling-elem {
					&:after { content: " |"; }
				}
			}

			p {
				margin: 0 auto; padding: 1rem 0;

				line-height: 1.2em;
				text-align: center;
				width: 60%;
			}
		}
	}

	.photo-wrapper {
		.button-wrapper { bottom: 30%; }

		.photo-preview {
			width: 100%; height: auto; max-height: 30%;
			bottom: 0; left: 0;

			background: linear-gradient(to top, $black 0, rgba($black, 0.2) 80%, rgba($white, 0) 100%) transparent;
			background-color: transparent;
			color: $white;
			height: auto;
			padding: 1rem 2rem;
			position: absolute;

			::-webkit-input-placeholder	{ color: $white; }
			::-moz-placeholder					{ color: $white; }
			:-ms-input-placeholder			{ color: $white; }

			.page-title-elem, .page-geotag-elem, .page-desc { text-align: center; }
		}
	}

	.text-wrapper {
		.text-preview {
			width: 100%; height: 100%;

			background-color: $white;
			font-size: 1.5em;
			line-height: 2.5em;
			padding: 5% 15rem;
			position: fixed; /**/

			.page-geotag-elem { color: $black; }

			.page-desc {
				margin: 0 0 1rem 0; padding: 0 0 2rem 0;

				font-family: "Hoefler Text", Georgia, serif !important;
				text-align: left;
			}

			.sp-scrollbar { margin: 0 -1rem 0 0; }
		}
	}

	.horizontal-wrapper {
		.button-wrapper { bottom: 30%; }

		.horizontal-preview {
			width: 100%; height: 25%;
			bottom: 0; left: 0;

			background-color: $white;
			border-top: 1px solid $gray-ii;
			color: $black;
			padding: 1rem 2rem;
			position: absolute;
			text-align: center;

			.page-geotag-elem {
				color: $black;
				text-align: center;
			}
		}
	}
	/*
	.photo-wrapper {
		.button-wrapper { bottom: 30%; }

		.photo-preview {
			width: 100%; height: auto; max-height: 30%;
			bottom: 0; left: 0;

			background: linear-gradient(to top, $black 0, rgba($black, 0.2) 80%, rgba($white, 0) 100%) transparent;
			background-color: transparent;
			color: $white;
			height: auto;
			padding: 1rem 2rem;
			position: absolute;

			::-webkit-input-placeholder	{ color: $white; }
			::-moz-placeholder					{ color: $white; }
			:-ms-input-placeholder			{ color: $white; }

			.page-title-elem, .page-geotag-elem, .page-desc { text-align: center; }
		}
	}
	*/
	.overlay-wrapper {
		.overlay-preview {
			width: 100%; height: 100%;
			top: 0; left: 0;

			background-color: rgba($black, 0.7);
			color: $white;
			position: absolute;

			article {
				margin: 15% auto; padding: 2rem;

				position: relative;
				text-align: center;
				width: 60%;
			}

			.page-desc {
				margin: 0 0 0.5rem 0; padding: 0;

				font-size: 36px;
				line-height: 40px;
			}

			::-webkit-input-placeholder	{ color: $white; }
			::-moz-placeholder					{ color: $white; }
			:-ms-input-placeholder			{ color: $white; }

			.page-geotag-elem {
				color: $white;
				text-align: center;
			}
		}
	}

	.phototext-wrapper {
		.phototext-preview {
			width: 30%; height: 100%;
			top: 0; right: 0;

			background-color: rgba($black, 0.7);
			color: $white;
			padding: 4rem 2rem 2rem 2rem;
			position: absolute;

			::-webkit-input-placeholder	{ color: $white; }
			::-moz-placeholder					{ color: $white; }
			:-ms-input-placeholder			{ color: $white; }

			.page-geotag-elem {
				margin: 0 0 1rem 0; padding: 0 0 1rem 0;

				color: $white;
				border-bottom: 1px dotted $white;
			}

			.page-desc { text-align: left; }
		}
	}

	.vertical-wrapper {
		.button-wrapper { width: 25%; }

		section {
			width: 25%; height: 100%;
		}

		.page-bg {
			width: auto; height: 100%;
		}

		.vertical-preview {
			width: 75%; height: 100%;
			top: 0; right: 0;

			background-color: $white;
			border-left: 1px solid $gray-ii;
			color: $black;
			padding: 4rem 2rem 2rem 2rem;
			position: absolute;

			.page-geotag-elem {
				margin: 0 0 1rem 0; padding: 0 0 1rem 0;

				border-bottom: 1px dotted $black;
				color: $black;
			}

			.page-desc { text-align: left; }
		}
	}

	.video-wrapper {
		.video-preview {
			width: 100%; height: 100%;

			background-color: $white;
			position: absolute;
		}

		article {
			width: 30%; height: 100%;
			top: 0; right: 0;

			border-left: 1px solid $gray-ii;
			color: $black;
			padding: 4rem 2rem 2rem 2rem;
			position: absolute;

			::-webkit-input-placeholder	{ color: $black; }
			::-moz-placeholder					{ color: $black; }
			:-ms-input-placeholder			{ color: $black; }

			.page-geotag-elem {
				margin: 0 0 1rem 0; padding: 0 0 1rem 0;

				color: $black;
				border-bottom: 1px dotted $black;
			}

			.page-desc { text-align: left; }
		}

		.play-video { display: none; }

		.video-player-container {
			width: 70%; height: 100%;
			top: 0; left: 0;

			position: absolute;

			iframe {
				width: 100%; height: 100%;
				background-color: $gray-i;
			}
		}

		.button-wrapper {
			bottom: 10%;
			width: 70%;
			z-index: 1;

			input {
				margin: 0 auto; padding: 0.5rem;

				background-color: rgba($white, 0.3);
				border: 3px solid $black;
				color: $black;
				font-family: "SourceSansProBold";
				position: relative;
				text-transform: uppercase;
				transition: all 0.2s ease;
				z-index: 2;
			}
		}
	}

	/* Start flip code */
	/*
	.bb-bookblock {
		width: 100%; height: 100%;

		background: $white;
		position: relative;
		z-index: 100;
	}

	.bb-page {
		width: 50%; height: 100%;

		left: 50%;
		position: absolute;
		transform-origin: left center;
		transform-style: preserve-3d;

		-o-transform-style: preserve-3d;
		-ms-transform-style: preserve-3d;
		-moz-transform-style: preserve-3d;
		-webkit-transform-style: preserve-3d;

		-ms-transform-origin: left center;
		-o-transform-origin: left center;
		-moz-transform-origin: left center;
		-webkit-transform-origin: left center;
	}

	.bb-page > div, .bb-outer, .bb-content {
		top: 0; left: 0;

		height: 100%;
		position: absolute;
	}

	.bb-content { background: $white; }

	.bb-inner {
		width: 100%; height: 100%;
		position: relative;
	}

	.bb-overlay, .bb-outer {
		backface-visibility: hidden;

		-o-backface-visibility: hidden;
		-ms-backface-visibility: hidden;
		-moz-backface-visibility: hidden;
		-webkit-backface-visibility: hidden;
	}

	.bb-page > div {
		backface-visibility: hidden;
		transform-style: preserve-3d;
		width: 100%;

		-o-backface-visibility: hidden;
		-ms-backface-visibility: hidden;
		-moz-backface-visibility: hidden;
		-webkit-backface-visibility: hidden;

		-o-transform-style: preserve-3d;
		-ms-transform-style: preserve-3d;
		-moz-transform-style: preserve-3d;
		-webkit-transform-style: preserve-3d;	
	}

	.bb-back {
		transform: rotateY(-180deg);

		-o-transform: rotateY(-180deg);
		-ms-transform: rotateY(-180deg);
		-moz-transform: rotateY(-180deg);
		-webkit-transform: rotateY(-180deg);
	}

	.bb-outer {
		overflow: hidden;
		width: 100%;
		z-index: 999;
	}

	.bb-overlay, .bb-flipoverlay {
		width: 100%; height: 100%;
		top: 0; left: 0;

		background-color: rgba($black, 0.7);
		opacity: 0;
		position: absolute;
		z-index: 1000;
	}

	.bb-flipoverlay { background-color: rgba($black, 0.2); }

	.bb-bookblock > div.bb-page:first-child,
	.bb-bookblock > div.bb-page:first-child .bb-back {
		transform: rotateY(180deg);

		-o-transform: rotateY(180deg);
		-ms-transform: rotateY(180deg);
		-moz-transform: rotateY(180deg);
		-webkit-transform: rotateY(180deg);
	}

	.bb-item {
		width: 100%; height: 100%;
		top: 0; left: 0;

		background: $white;
		display: none;
		position: absolute;
	}

	.content {
		top: 0; left: 0;

		overflow: hidden;
		position: absolute;
		width: 100%;

		-webkit-font-smoothing: subpixel-antialiased;

		&:before, &:after {
			width: 100%; height: 20px;
			top: 0; left: 0;

			background: linear-gradient(to bottom, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
			content: "";
			pointer-events: none;
			position: absolute;
			z-index: 100;

			background: -o-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
			background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
			background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
		}

		&:after {
			top: auto; bottom: 0;
			background: linear-gradient(to top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);

			background: -o-linear-gradient(bottom, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
			background: -moz-linear-gradient(bottom, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
			background: -webkit-linear-gradient(bottom, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
		}
	}
	*/

	.page-bg, iframe {
		width: 100%; height: 100%;
		bottom: 0; left: 0;

		position: absolute;
	}

}

/** BOOKBLOCK *****************************************************************************************/

.content { position: absolute; }

.bb-bookblock {
	width: 400px; height: 300px;

	backface-visibility: hidden;
	margin: 0 auto;
	perspective: 1300px;
	position: relative;
	z-index: 100;

	-moz-backface-visibility: hidden;
	-webkit-backface-visibility: hidden;

	-moz-perspective: 1300px;
	-webkit-perspective: 1300px;
}

.bb-page {
	position: absolute;
	transform-style: preserve-3d;
	transition-property: transform;

	-moz-transform-style: preserve-3d;
	-webkit-transform-style: preserve-3d;

	-moz-transition-property: -moz-transform;
	-webkit-transition-property: -webkit-transform;
}

.bb-vertical {
	.bb-content {
		bottom: 0; left: 0;

		position: absolute;
		width: 200%;
	}

	.bb-back {
		transform: rotateY(-180deg);

		-moz-transform: rotateY(-180deg);
		-webkit-transform: rotateY(-180deg);
	}

	.bb-page {
		width: 50%; height: 100%;

		left: 50%;
		transform-origin: left center;

		-moz-transform-origin: left center;
		-webkit-transform-origin: left center;
	}
}

.bb-horizontal {
	.bb-content { height: 200%; }

	.bb-back {
		transform: rotateX(-180deg);

		-moz-transform: rotateX(-180deg);
		-webkit-transform: rotateX(-180deg);
	}

	.bb-page {
		width: 100%; height: 50%;

		top: 50%;	
		transform-origin: center top;

		-moz-transform-origin: center top;
		-webkit-transform-origin: center top;
	}
}

.bb-page > div,
.bb-outer,
.bb-content,
.bb-inner {
	width: 100%; height: 100%;
	top: 0; left: 0;

	background: #fff;
	position: absolute;
}

.bb-page > div {
	transform-style: preserve-3d;
	width: 100%;

	-moz-transform-style: preserve-3d;
	-webkit-transform-style: preserve-3d;
}

.bb-page > div:not(:only-child) {
	backface-visibility: hidden;

	-moz-backface-visibility: hidden;
	-webkit-backface-visibility: hidden;
}

.bb-outer {
	overflow: hidden;
	width: 100%;
	z-index: 999;
}

.bb-overlay, 
.bb-flipoverlay {
	width: 100%; height: 100%;
	top: 0; left: 0;

	background-color: rgba(0, 0, 0, 0.7);
	opacity: 0;
	position: absolute;
}

.bb-flipoverlay { background-color: rgba(0, 0, 0, 0.2); }

.bb-bookblock.bb-vertical > div.bb-page:first-child,
.bb-bookblock.bb-vertical > div.bb-page:first-child .bb-back {
	transform: rotateY(180deg);

	-moz-transform: rotateY(180deg);
	-webkit-transform: rotateY(180deg);
}

.bb-bookblock.bb-horizontal > div.bb-page:first-child,
.bb-bookblock.bb-horizontal > div.bb-page:first-child .bb-back {
	transform: rotateX(180deg);

	-moz-transform: rotateX(180deg);
	-webkit-transform: rotateX(180deg);
}

.bb-vertical .bb-front .bb-content { left: -100%; }
.bb-horizontal .bb-front .bb-content { top: -100%; }

.bb-vertical {
	.bb-flip-next,
	.bb-flip-initial {
		transform: rotateY(-180deg);

		-moz-transform: rotateY(-180deg);
		-webkit-transform: rotateY(-180deg);
	}

	.bb-flip-prev {
		transform: rotateY(0deg);

		-moz-transform: rotateY(0deg);
		-webkit-transform: rotateY(0deg);
	}

	.bb-flip-next-end {
		transform: rotateY(-15deg);

		-moz-transform: rotateY(-15deg);
		-webkit-transform: rotateY(-15deg);
	}

	.bb-flip-prev-end {
		transform: rotateY(-165deg);

		-moz-transform: rotateY(-165deg);
		-webkit-transform: rotateY(-165deg);
	}
}

.bb-horizontal {
	.bb-flip-next,
	.bb-flip-initial {
		transform: rotateX(180deg);

		-moz-transform: rotateX(180deg);
		-webkit-transform: rotateX(180deg);
	}

	.bb-flip-prev {
		transform: rotateX(0deg);

		-moz-transform: rotateX(0deg);
		-webkit-transform: rotateX(0deg);
	}

	.bb-flip-next-end {
		transform: rotateX(15deg);

		-moz-transform: rotateX(15deg);
		-webkit-transform: rotateX(15deg);
	}

	.bb-flip-prev-end {
		transform: rotateX(165deg);

		-moz-transform: rotateX(165deg);
		-webkit-transform: rotateX(165deg);
	}
}

.bb-item {
	width: 100%; height: 100%;
	top: 0; left: 0;

	background: #fff;
	display: none;
	position: absolute;
}

img, iframe {
	width: 100%; height: 100%;
}

.bb-custom-wrapper {
	width: 100%; height: 100%;
	position: relative;

	.bb-bookblock {
		width: 100%; height: 100%;
		perspective: 2000px;

		-moz-perspective: 2000px;
		-webkit-perspective: 2000px;
	}
}

.bb-custom-side {
	width: 50%; height: 100%;

	align-items: center;
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	float: left;
	justify-content: center;
	overflow: hidden;

	display: -moz-box;
	display: -webkit-box;
	display: -webkit-flex;
	
	-webkit-align-items: center;

	-moz-box-align: center;
	-webkit-box-align: center;

	-moz-box-pack: center;
	-webkit-box-pack: center;

	-webkit-flex-direction: row;
	-webkit-flex-wrap: wrap;

	-webkit-justify-content: center;
}
